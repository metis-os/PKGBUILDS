#!/bin/bash

# Copyright PwnWriter || METIS Linux ( metislinux.org )

remove_calamares() {
    pacman --noconfirm -Rcns calamares metis-welcome metis-live-scripts && rm -rf /etc/calamares
    userdel -r artix || exit 0
}

check_network() {
    if ping -q -c 1 -W 1 google.com >/dev/null; then
        return 0 # Network is available
    else
        return 1 # Network is not available
    fi
}

remove_calamares && check_network

if [[ $? -eq 0 ]]; then
    pacman-key --init && pacman-key --populate
else
    exit 0
fi


